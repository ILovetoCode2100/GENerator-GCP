name: "RocketShop Shopping Cart Test"
description: "Test adding multiple stickers to cart and proceeding to checkout"
steps:
  - name: "Navigate to RocketShop"
    action: navigate
    url: "https://rocketshop.virtuoso.qa/"

  - name: "Add Blank Exploration sticker to bag"
    action: click
    target:
      text: "Add to Bag"
      near:
        text: "Blank Exploration"

  - name: "Verify first item added"
    action: assert
    assertion: text
    target:
      text: "Added to bag!"

  - name: "Click on Border Not Found sticker"
    action: click
    target:
      text: "Border Not Found"

  - name: "Add Border Not Found sticker to bag"
    action: click
    target:
      text: "Add to Bag"

  - name: "Verify second item added"
    action: assert
    assertion: text
    target:
      text: "Added to bag!"

  - name: "Click shopping bag icon"
    action: click
    target:
      selector: "[class*='bag'], [aria-label*='bag'], svg[class*='bag']"
      fallback:
        text: "5"
        description: "Shopping bag counter showing 5 items"

  - name: "Verify shopping bag contents - Blank Exploration"
    action: assert
    assertion: text
    target:
      text: "Blank Exploration"

  - name: "Verify Blank Exploration quantity"
    action: assert
    assertion: value
    target:
      selector: "input[value='3']"
      near:
        text: "Blank Exploration"
    expected: "3"

  - name: "Verify Blank Exploration subtotal"
    action: assert
    assertion: text
    target:
      text: "12.00 €"
      near:
        text: "Blank Exploration"

  - name: "Verify Border Not Found in bag"
    action: assert
    assertion: text
    target:
      text: "Border Not Found"

  - name: "Verify Border Not Found quantity"
    action: assert
    assertion: value
    target:
      selector: "input[value='2']"
      near:
        text: "Border Not Found"
    expected: "2"

  - name: "Verify Border Not Found subtotal"
    action: assert
    assertion: text
    target:
      text: "8.00 €"
      near:
        text: "Border Not Found"

  - name: "Verify total amount"
    action: assert
    assertion: text
    target:
      text: "20.00 €"
      near:
        text: "Total"

  - name: "Click Go to Checkout"
    action: click
    target:
      text: "Go to Checkout"

  - name: "Verify Guest Checkout page"
    action: assert
    assertion: text
    target:
      text: "Guest Checkout"

  - name: "Verify checkout form fields"
    action: assert
    assertion: present
    target:
      selector: "input[placeholder='Email']"

  - name: "Verify Full name field"
    action: assert
    assertion: present
    target:
      selector: "input[placeholder='Full name']"

  - name: "Verify Phone number field"
    action: assert
    assertion: present
    target:
      selector: "input[placeholder='Phone numbers']"

  - name: "Verify Address field"
    action: assert
    assertion: present
    target:
      selector: "input[placeholder='Address']"

  - name: "Verify ZIP code field"
    action: assert
    assertion: present
    target:
      selector: "input[placeholder='ZIP code']"

  - name: "Verify order items in checkout"
    action: assert
    assertion: text
    target:
      text: "Blank Exploration"

  - name: "Verify checkout total"
    action: assert
    assertion: text
    target:
      text: "20.00 €"
      near:
        text: "Total"

  - name: "Verify payment section"
    action: assert
    assertion: text
    target:
      text: "Confirm and Pay"
