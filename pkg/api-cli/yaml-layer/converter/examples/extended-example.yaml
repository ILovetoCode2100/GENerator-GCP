name: Advanced Form Validation Test
description: Comprehensive test of form validation with multiple field types
infrastructure:
  organization_id: "2242"
  project:
    name: "Form Validation Suite"
    id: "proj_12345"
  starting_url: https://forms.example.com/advanced
  environment: "staging"
  browser: "chrome"
  viewport:
    width: 1920
    height: 1080
config:
  timeout: 90000
  retry_count: 2
  screenshot_on_failure: true
  continue_on_error: false
variables:
  - name: formTitle
    value: "Advanced Registration Form"
  - name: maxFieldLength
    value: "255"
steps:
  - type: navigate
    target: https://forms.example.com/advanced
    meta:
      description: "Navigate to advanced form page"
      step_number: 1
  
  - type: assert
    command: exists
    target: "h1"
    value: "Advanced Registration Form"
    meta:
      timeout: 5000
      critical: true
  
  - type: write
    selector: "input#first-name"
    text: "John"
    meta:
      field_type: "text"
      validation: "required,alpha"
  
  - type: write
    selector: "input#last-name"
    text: "Doe"
    meta:
      field_type: "text"
      validation: "required,alpha"
  
  - type: write
    selector: "input#email"
    text: "john.doe@example.com"
    meta:
      field_type: "email"
      validation: "required,email"
  
  - type: select
    selector: "select#country"
    value: "US"
    meta:
      field_type: "dropdown"
      options_count: 195
  
  - type: click
    target: "input[type=radio][value=male]"
    meta:
      field_type: "radio"
      group_name: "gender"
  
  - type: click
    target: "input#terms"
    meta:
      field_type: "checkbox"
      required: true
  
  - type: assert
    command: checked
    target: "input#terms"
    meta:
      validation_type: "state"
  
  - type: write
    selector: "textarea#comments"
    text: "This is a test comment for the extended format example"
    meta:
      field_type: "textarea"
      max_length: 500
  
  - type: execute
    value: |
      // Custom validation check
      const form = document.querySelector('form');
      return form.checkValidity();
    meta:
      returns: "boolean"
      description: "Validate form using browser API"
  
  - type: store
    selector: "form"
    attribute: "data-form-id"
    variable: "formId"
    meta:
      data_type: "string"
  
  - type: click
    target: "button[type=submit]"
    meta:
      action: "submit_form"
      expected_result: "success_page"
  
  - type: wait
    command: element
    target: "div.success-message"
    meta:
      timeout: 10000
      poll_interval: 500
  
  - type: assert
    command: contains
    target: "div.success-message"
    value: "Registration successful"
    meta:
      case_sensitive: false
  
  - type: window
    command: resize
    meta:
      width: 1024
      height: 768
      animate: true
  
  - type: scroll
    command: to_element
    target: "footer"
    meta:
      smooth: true
      offset_y: -50
  
  - type: cookie
    command: create
    meta:
      name: "test_complete"
      value: "true"
      domain: ".example.com"
      path: "/"
      expires: 3600