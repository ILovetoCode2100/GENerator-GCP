# Example Virtuoso Test Structure
# This file defines a complete test hierarchy that can be created with:
# api-cli create-structure --file test-structure.yaml

project:
  name: "E2E Test Suite"
  description: "Complete end-to-end test suite for our application"

goals:
  - name: "User Authentication"
    url: "https://app.example.com"
    journeys:
      - name: "Login Flow"
        checkpoints:
          - name: "Navigate to Login"
            steps:
              - type: navigate
                url: "https://app.example.com/login"
              - type: wait
                selector: "Login Form"
                timeout: 5000
          - name: "Submit Credentials"
            steps:
              - type: click
                selector: "Email Field"
              - type: click
                selector: "Password Field" 
              - type: click
                selector: "Submit Button"
          - name: "Verify Dashboard"
            steps:
              - type: wait
                selector: "Dashboard"
                timeout: 10000
      
      - name: "Password Reset Flow"
        checkpoints:
          - name: "Navigate to Reset"
            steps:
              - type: navigate
                url: "https://app.example.com/forgot-password"
              - type: wait
                selector: "Reset Form"
                timeout: 5000

  - name: "Product Catalog"
    url: "https://app.example.com/products"
    journeys:
      - name: "Product Search"
        checkpoints:
          - name: "Search Products"
            steps:
              - type: navigate
                url: "https://app.example.com/products"
              - type: click
                selector: "Search Box"
              - type: wait
                selector: "Search Results"
                timeout: 3000

  - name: "Shopping Cart"
    url: "https://app.example.com/cart"
    journeys:
      - name: "Add to Cart Flow"
        checkpoints:
          - name: "Select Product"
            steps:
              - type: navigate
                url: "https://app.example.com/products/123"
              - type: click
                selector: "Add to Cart Button"
              - type: wait
                selector: "Cart Update Notification"
                timeout: 2000