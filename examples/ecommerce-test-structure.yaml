# Example: E-Commerce Test Structure
# This example demonstrates all features of the create-structure command

project:
  # Optional: Use existing project by ID
  # id: 9056
  name: "E-Commerce Test Suite Q1 2025"

goals:
  - name: "Shopping Cart Flow"
    url: "https://demo.shop.com"
    journeys:
      # First journey reuses the auto-created journey
      - name: "Guest Checkout Journey"
        checkpoints:
          # First checkpoint updates the existing navigation
          - name: "Browse Product Catalog"
            navigation_url: "https://demo.shop.com/products"
            steps:
              - type: wait
                selector: ".product-grid"
                timeout: 5000
              - type: click
                selector: ".product-card:first-child"
              
          - name: "View Product Details"
            steps:
              - type: wait
                selector: ".product-details"
                timeout: 3000
              - type: click
                selector: ".size-selector[data-size='M']"
              - type: click
                selector: ".add-to-cart-button"
              
          - name: "Shopping Cart"
            steps:
              - type: wait
                selector: ".cart-items"
                timeout: 3000
              - type: click
                selector: ".checkout-button"
              
          - name: "Guest Checkout"
            steps:
              - type: fill
                selector: "#email"
                value: "test@example.com"
              - type: fill
                selector: "#first-name"
                value: "Test"
              - type: fill
                selector: "#last-name"
                value: "User"
              - type: fill
                selector: "#address"
                value: "123 Test Street"
              - type: fill
                selector: "#city"
                value: "Test City"
              - type: fill
                selector: "#zip"
                value: "12345"
              - type: click
                selector: ".continue-to-payment"
              
          - name: "Payment"
            steps:
              - type: wait
                selector: ".payment-form"
                timeout: 5000
              - type: fill
                selector: "#card-number"
                value: "4111111111111111"
              - type: fill
                selector: "#card-expiry"
                value: "12/25"
              - type: fill
                selector: "#card-cvc"
                value: "123"
              - type: click
                selector: ".place-order-button"
              
          - name: "Order Confirmation"
            steps:
              - type: wait
                selector: ".order-success"
                timeout: 10000
      
      # Additional journeys are created normally
      - name: "Registered User Checkout"
        checkpoints:
          - name: "Login"
            steps:
              - type: navigate
                url: "https://demo.shop.com/login"
              - type: fill
                selector: "#username"
                value: "testuser@example.com"
              - type: fill
                selector: "#password"
                value: "Test123!"
              - type: click
                selector: ".login-button"
              - type: wait
                selector: ".user-dashboard"
                timeout: 5000
          
          - name: "Quick Checkout"
            steps:
              - type: navigate
                url: "https://demo.shop.com/products/quick-buy"
              - type: click
                selector: ".quick-add[data-product='12345']"
              - type: click
                selector: ".express-checkout"
              - type: wait
                selector: ".order-success"
                timeout: 10000

  - name: "User Account Management"
    url: "https://demo.shop.com/account"
    journeys:
      - name: "Profile Updates"
        checkpoints:
          - name: "Navigate to Profile"
            navigation_url: "https://demo.shop.com/account/profile"
            steps:
              - type: wait
                selector: ".profile-form"
                timeout: 3000
          
          - name: "Update Information"
            steps:
              - type: fill
                selector: "#phone"
                value: "+1234567890"
              - type: click
                selector: ".save-profile"
              - type: wait
                selector: ".success-message"
                timeout: 3000

# Structure Notes:
# 1. First goal's first journey reuses auto-created journey (renamed)
# 2. First checkpoint's navigation updates the existing navigation step
# 3. Additional journeys are created fresh
# 4. Additional goals create their own auto-journey to be renamed
