project: 9369
goal: 14141
name: FIN-AP-003 - Three-Way Matching - Process vendor invoice with three-way matching
description: 'Process vendor invoice with three-way matching (Module: Finance Operations, Suite: Accounts Payable)'
starting_url: https://virtuoso-test.crm.dynamics.com
steps:
- click: Receive
- click: Product receipt
- write:
    selector: Product receipt
    text: RECV-$TIMESTAMP
- click: OK
- wait: 3
- comment: Assert that "Product receipt journal" posted
- click: Invoice
- click: Invoice
- write:
    selector: Number
    text: INV-12345
- write:
    selector: Invoice date
    text: $TODAY
- write:
    selector: Description
    text: Test invoice for PO $purchaseOrderNumber
- click: Match product receipts
- comment: Select all lines
- click: OK
- assert_text:
    selector: Matching status
    expected: Passed
- comment: Assert that "Quantity", "Price", and "Net amount" match
- click: Post
- wait: 3
- assert_text:
    selector: Posting status
    expected: Posted
