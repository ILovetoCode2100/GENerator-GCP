name: FIN-GL-001 - Create Journal Entry - Create and post a general journal entry
description: 'Create and post a general journal entry (Module: Finance Operations, Suite: General Ledger)'
starting_url: https://virtuoso-test.crm.dynamics.com
steps:
- navigate: https://virtuoso-test.operations.dynamics.com
- wait: 3
- click: General ledger
- click: Journal entries
- click: General journal
- click: New
- select:
    selector: Name
    option: GenJrn
- write:
    selector: Description
    text: Monthly Accrual - $MONTH
- comment: Assert that element "Journal batch number" is generated
- store:
    type: text
    selector: Journal batch number
    variable: $journalNumber
- click: Lines
- wait: 2
- click: New
- write:
    selector: Date
    text: $TODAY
- select:
    selector: Account type
    option: Ledger
- write:
    selector: Account
    text: '606100'
- write:
    selector: Description
    text: Rent expense accrual
- write:
    selector: Debit
    text: '5000'
- select:
    selector: Financial dimensions - Department
    option: '001'
- select:
    selector: Financial dimensions - Cost center
    option: CORP
- click: New line
- select:
    selector: Account type
    option: Ledger
- write:
    selector: Account
    text: '201100'
- write:
    selector: Description
    text: Accrued rent payable
- write:
    selector: Credit
    text: '5000'
- select:
    selector: Financial dimensions - Department
    option: '001'
- select:
    selector: Financial dimensions - Cost center
    option: CORP
- click: Validate
- comment: Pick "Validate" from menu
- wait: 2
- assert_text:
    selector: Journal validation
    expected: Passed
