name: SCM-SO-001 - Create Sales Order - Create customer sales order
description: 'Create customer sales order (Module: Supply Chain, Suite: Sales Order Processing)'
starting_url: https://virtuoso-test.crm.dynamics.com
steps:
- click: Sales and marketing
- click: Sales orders
- click: All sales orders
- click: New
- select:
    selector: Customer account
    option: CUST-001
- comment: Assert that delivery address populates
- comment: Assert that payment terms populate
- write:
    selector: Customer requisition
    text: PO-12345
- click: Sales order lines
- select:
    selector: Item number
    option: $itemNumber
- write:
    selector: Quantity
    text: '25'
- comment: Assert that "Unit price" populates
- write:
    selector: Requested delivery date
    text: $DATE_PLUS_2
- click: Inventory
- click: ATP
- comment: Assert that element "Available" shows sufficient quantity
- comment: Assert that element "ATP date" meets requested date
- click: Close
- click: Save
- store:
    type: text
    selector: Sales order
    variable: $salesOrder
