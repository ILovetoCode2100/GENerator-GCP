# Comprehensive Data Commands Test
# Tests all data storage and cookie management commands

name: "Complete Data Commands Test"
description: "Tests store operations and cookie management"

config:
  continue_on_error: false
  output_format: "json"

steps:
  # Store element text
  - data:
      action: "store"
      type: "element-text"
      target: "h1.page-title"
      variable: "pageTitle"

  - data:
      action: "store"
      type: "element-text"
      target: "span.user-name"
      variable: "currentUser"

  # Store literal values
  - data:
      action: "store"
      type: "literal"
      value: "test@example.com"
      variable: "testEmail"

  - data:
      action: "store"
      type: "literal"
      value: "2024-01-15"
      variable: "testDate"

  - data:
      action: "store"
      type: "literal"
      value: "123.45"
      variable: "testNumber"

  # Store element value (input fields)
  - data:
      action: "store"
      type: "element-value"
      target: "input#username"
      variable: "savedUsername"

  - data:
      action: "store"
      type: "element-value"
      target: "textarea#notes"
      variable: "userNotes"

  # Store element attributes
  - data:
      action: "store"
      type: "attribute"
      target: "a.download-link"
      attribute: "href"
      variable: "downloadUrl"

  - data:
      action: "store"
      type: "attribute"
      target: "img.product"
      attribute: "src"
      variable: "imageSource"

  - data:
      action: "store"
      type: "attribute"
      target: "button.action"
      attribute: "data-action-id"
      variable: "actionId"

  # Cookie operations - Create
  - data:
      action: "cookie"
      operation: "create"
      name: "session_id"
      value: "abc123xyz"

  - data:
      action: "cookie"
      operation: "create"
      name: "user_preference"
      value: "dark_mode"
      domain: ".example.com"

  - data:
      action: "cookie"
      operation: "create"
      name: "auth_token"
      value: "secure_token_value"
      secure: true
      httpOnly: true

  - data:
      action: "cookie"
      operation: "create"
      name: "tracking_id"
      value: "track123"
      path: "/shop"
      domain: ".example.com"

  # Cookie operations - Delete
  - data:
      action: "cookie"
      operation: "delete"
      name: "old_session"

  - data:
      action: "cookie"
      operation: "delete"
      name: "temp_data"

  # Cookie operations - Clear all
  - data:
      action: "cookie"
      operation: "clear-all"

  # Complex data storage scenarios
  - data:
      action: "store"
      type: "element-text"
      target: "td.price"
      variable: "productPrice"

  - data:
      action: "store"
      type: "literal"
      value: "0.10"
      variable: "taxRate"

  - data:
      action: "store"
      type: "attribute"
      target: "select#quantity"
      attribute: "value"
      variable: "selectedQuantity"

  # Store data from dynamic elements
  - data:
      action: "store"
      type: "element-text"
      target: "span.ajax-result"
      variable: "ajaxResponse"
      wait: 3000

  # Store empty/null values
  - data:
      action: "store"
      type: "literal"
      value: ""
      variable: "emptyString"

  # Store special characters
  - data:
      action: "store"
      type: "literal"
      value: '!@#$%^&*()_+-=[]{}|;'':",./<>?'
      variable: "specialChars"

  # Store unicode text
  - data:
      action: "store"
      type: "literal"
      value: "Hello ‰∏ñÁïå üåç"
      variable: "unicodeText"
