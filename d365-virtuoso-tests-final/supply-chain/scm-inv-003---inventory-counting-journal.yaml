name: SCM-INV-003 - Inventory Counting Journal - Perform cycle counting
description: 'Perform cycle counting (Module: Supply Chain, Suite: Inventory Management)'
starting_url: https://[instance].crm.dynamics.com
steps:
- click: Inventory management
- click: Journal entries
- click: Counting
- click: New
- select:
    selector: Name
    option: Count
- write:
    selector: Description
    text: Cycle Count - $DATE
- select:
    selector: Warehouse
    option: WH-001
- click: OK
- click: Lines
- click: Create lines
- select:
    selector: Create by
    option: On-hand
- select:
    selector: From location
    option: A-01
- select:
    selector: To location
    option: A-02
- click: OK
- comment: Look for "$itemNumber" in grid
- write:
    selector: Counted
    text: '95'
- assert_text:
    selector: On hand
    expected: '100'
- assert_text:
    selector: Difference
    expected: '-5'
- click: Validate
- click: Post
- wait: 2
- assert: Journal posted
