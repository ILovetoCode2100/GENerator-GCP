name: FIELD-SCHED-002 - Emergency Dispatch - Handle emergency work order scheduling
description: 'Handle emergency work order scheduling (Module: Field Service, Suite: Scheduling and Dispatch)'
project: D365 Test Automation
goal: Field Service Tests
journey: Scheduling and Dispatch
infrastructure:
  starting_url: https://[instance].crm.dynamics.com
steps:
- type: interact
  command: click
  target: Work Orders
- type: interact
  command: click
  target: New
- type: interact
  command: select
  target: Priority
  value: Emergency
- type: interact
  command: write
  target: Instructions
  value: 'URGENT: No heating - $TIMESTAMP'
- type: interact
  command: select
  target: Work Order Type
  value: HVAC Repair
- type: interact
  command: select
  target: Service Account
  value: Contoso HQ
- type: interact
  command: click
  target: Save
- type: interact
  command: click
  target: Book
- type: interact
  command: click
  target: Emergency Dispatch
- type: wait
  command: time
  value: 2
- type: interact
  command: click
  target: nearest technician
- type: interact
  command: click
  target: Dispatch
- type: assert
  command: exists
  target: SMS Sent
- type: assert
  command: text
  target: Status
  expected: Scheduled
