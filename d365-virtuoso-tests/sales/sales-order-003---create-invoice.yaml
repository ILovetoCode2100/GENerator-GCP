name: SALES-ORDER-003 - Create Invoice - Generate invoice from fulfilled order
description: 'Generate invoice from fulfilled order (Module: Sales Module, Suite: Order Management)'
project: D365 Test Automation
goal: Sales Module Tests
journey: Order Management
infrastructure:
  starting_url: https://[instance].crm.dynamics.com
steps:
- type: interact
  command: click
  target: Create Invoice
- type: wait
  command: time
  value: 3
- type: assert
  command: exists
  target: Invoice
- type: assert
  command: text
  target: Total Amount
  expected: $orderAmount
- type: interact
  command: select
  target: Payment Terms
  value: Net 30
- type: interact
  command: write
  target: Due Date
  value: $DATE_PLUS_30
- type: interact
  command: click
  target: Save
- type: interact
  command: click
  target: Lock Invoice
- type: wait
  command: time
  value: 2
- type: assert
  command: text
  target: Status
  expected: Locked
