name: SALES-INT-001 - Email Tracking - Verify email tracking to opportunity
description: 'Verify email tracking to opportunity (Module: Sales Module, Suite: Integration Tests)'
project: D365 Test Automation
goal: Sales Module Tests
journey: Integration Tests
infrastructure:
  starting_url: https://[instance].crm.dynamics.com
steps:
- type: interact
  command: click
  target: Opportunities
- type: interact
  command: click
  target: first opportunity
- type: interact
  command: click
  target: Timeline
- type: interact
  command: click
  target: Create a timeline record
- type: interact
  command: select
  target: Activity Type
  value: Email
- type: interact
  command: write
  target: To
  value: customer@contoso.com
- type: interact
  command: write
  target: Subject
  value: Follow-up on our discussion
- type: interact
  command: write
  target: Description
  value: Thank you for your time today. Please find attached...
- type: interact
  command: click
  target: Send
- type: wait
  command: time
  value: 2
- type: assert
  command: exists
  target: Email
- type: assert
  command: exists
  target: Tracked
