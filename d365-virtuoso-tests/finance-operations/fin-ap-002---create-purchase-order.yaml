name: FIN-AP-002 - Create Purchase Order - Create and confirm purchase order
description: 'Create and confirm purchase order (Module: Finance Operations, Suite: Accounts Payable)'
project: D365 Test Automation
goal: Finance Operations Tests
journey: Accounts Payable
infrastructure:
  starting_url: https://[instance].crm.dynamics.com
steps:
- type: interact
  command: click
  target: Procurement and sourcing
- type: interact
  command: click
  target: Purchase orders
- type: interact
  command: click
  target: All purchase orders
- type: interact
  command: click
  target: New
- type: interact
  command: select
  target: Vendor account
  value: VEND-$TIMESTAMP
- type: interact
  command: select
  target: Warehouse
  value: Main warehouse
- type: interact
  command: select
  target: Purchase type
  value: Standard
- type: interact
  command: click
  target: Lines
- type: interact
  command: click
  target: Add line
- type: interact
  command: write
  target: Item number
  value: ITEM-001
- type: interact
  command: write
  target: Quantity
  value: '100'
- type: interact
  command: write
  target: Procurement category
  value: Office supplies
- type: interact
  command: click
  target: Add line
- type: interact
  command: write
  target: Item number
  value: ITEM-002
- type: interact
  command: write
  target: Quantity
  value: '50'
- type: interact
  command: click
  target: Purchase
- type: interact
  command: click
  target: Confirm
- type: wait
  command: time
  value: 3
- type: assert
  command: text
  target: Purchase order status
  expected: Confirmed
- type: store
  command: text
  target: Purchase order
  variable: purchaseOrderNumber
