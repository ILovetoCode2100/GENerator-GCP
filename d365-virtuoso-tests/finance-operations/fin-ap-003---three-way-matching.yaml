name: FIN-AP-003 - Three-Way Matching - Process vendor invoice with three-way matching
description: 'Process vendor invoice with three-way matching (Module: Finance Operations, Suite: Accounts Payable)'
project: D365 Test Automation
goal: Finance Operations Tests
journey: Accounts Payable
infrastructure:
  starting_url: https://[instance].crm.dynamics.com
steps:
- type: interact
  command: click
  target: Receive
- type: interact
  command: click
  target: Product receipt
- type: interact
  command: write
  target: Product receipt
  value: RECV-$TIMESTAMP
- type: interact
  command: click
  target: OK
- type: wait
  command: time
  value: 3
- type: interact
  command: click
  target: Invoice
- type: interact
  command: click
  target: Invoice
- type: interact
  command: write
  target: Number
  value: INV-12345
- type: interact
  command: write
  target: Invoice date
  value: $TODAY
- type: interact
  command: write
  target: Description
  value: Test invoice for PO $purchaseOrderNumber
- type: interact
  command: click
  target: Match product receipts
- type: interact
  command: click
  target: OK
- type: assert
  command: text
  target: Matching status
  expected: Passed
- type: interact
  command: click
  target: Post
- type: wait
  command: time
  value: 3
- type: assert
  command: text
  target: Posting status
  expected: Posted
