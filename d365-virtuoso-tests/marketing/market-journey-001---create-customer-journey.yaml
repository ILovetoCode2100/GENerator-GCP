name: MARKET-JOURNEY-001 - Create Customer Journey - Build multi-step customer journey
description: 'Build multi-step customer journey (Module: Marketing, Suite: Customer Journeys)'
project: D365 Test Automation
goal: Marketing Tests
journey: Customer Journeys
infrastructure:
  starting_url: https://[instance].crm.dynamics.com
steps:
- type: interact
  command: click
  target: Customer journeys
- type: interact
  command: click
  target: New
- type: interact
  command: click
  target: Blank template
- type: interact
  command: write
  target: Name
  value: New Customer Onboarding - $TIMESTAMP
- type: interact
  command: click
  target: Set audience
- type: interact
  command: click
  target: Define new segment
- type: interact
  command: write
  target: Segment name
  value: New Customers This Month
- type: interact
  command: click
  target: Design
- type: interact
  command: click
  target: Add group
- type: interact
  command: select
  target: Entity
  value: Contact
- type: interact
  command: click
  target: Add condition
- type: interact
  command: select
  target: Field
  value: Created on
- type: interact
  command: select
  target: Operator
  value: Last month
- type: interact
  command: click
  target: Save and close
- type: interact
  command: click
  target: dropped element
- type: interact
  command: select
  target: Marketing email
  value: $emailId
- type: interact
  command: write
  target: Days to wait after
  value: '2'
- type: interact
  command: click
  target: condition element
- type: interact
  command: select
  target: Condition type
  value: Email opened
- type: interact
  command: select
  target: Branch if
  value: 'Yes'
- type: interact
  command: select
  target: Marketing email
  value: Product Demo Email
- type: interact
  command: write
  target: Days
  value: '3'
- type: interact
  command: select
  target: Marketing email
  value: Reminder Email
- type: interact
  command: click
  target: Save
- type: assert
  command: text
  target: Status
  expected: Draft
