name: PROJ-FIN-002 - Project Invoice Generation - Generate project invoice based on actuals
description: 'Generate project invoice based on actuals (Module: Project Operations, Suite: Project Financials)'
project: D365 Test Automation
goal: Project Operations Tests
journey: Project Financials
infrastructure:
  starting_url: https://[instance].crm.dynamics.com
steps:
- type: interact
  command: click
  target: Billing
- type: interact
  command: click
  target: Create Invoice
- type: interact
  command: select
  target: Billing Period
  value: Current Month
- type: interact
  command: click
  target: Calculate
- type: wait
  command: time
  value: 3
- stepType: assertValue
  target: Total
  operator: greaterThan
  expectedValue: '"0"'
- type: interact
  command: write
  target: Invoice Number
  value: INV-PROJ-$TIMESTAMP
- type: interact
  command: write
  target: Description
  value: Project billing for $CURRENT_MONTH
- type: interact
  command: select
  target: Payment Terms
  value: Net 30
- type: interact
  command: click
  target: Generate Invoice
- type: wait
  command: time
  value: 3
- type: assert
  command: text
  target: Invoice Status
  expected: Draft
- type: interact
  command: click
  target: Send to Customer
- type: assert
  command: text
  target: Status
  expected: Sent
