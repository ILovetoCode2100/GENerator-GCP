name: COMM-PRICE-002 - Create Promotional Campaign - Set up multi-channel promotion
description: 'Set up multi-channel promotion (Module: Commerce, Suite: Pricing and Promotions)'
project: D365 Test Automation
goal: Commerce Tests
journey: Pricing and Promotions
infrastructure:
  starting_url: https://[instance].crm.dynamics.com
steps:
- type: interact
  command: click
  target: Promotions
- type: interact
  command: click
  target: Discounts
- type: interact
  command: click
  target: New
- type: interact
  command: write
  target: Name
  value: Spring Sale 2024 - $TIMESTAMP
- type: interact
  command: write
  target: Coupon code
  value: SPRING24
- type: interact
  command: select
  target: Discount type
  value: Percentage discount
- type: interact
  command: write
  target: Discount percentage
  value: '20'
- type: interact
  command: select
  target: Apply to
  value: Order
- type: interact
  command: write
  target: Minimum purchase
  value: '100'
- type: interact
  command: write
  target: Valid from date
  value: $TODAY
- type: interact
  command: write
  target: Valid to date
  value: $DATE_PLUS_30
- type: interact
  command: select
  target: Valid days
  value: All days
- type: interact
  command: select
  target: Valid hours
  value: All hours
- type: interact
  command: click
  target: Channels
- type: interact
  command: click
  target: Save
- type: interact
  command: click
  target: Exclusions
- type: interact
  command: select
  target: Exclude type
  value: Category
- type: interact
  command: select
  target: Category
  value: Clearance
- type: interact
  command: click
  target: Add
- type: interact
  command: click
  target: Activate
- type: assert
  command: text
  target: Status
  expected: Active
