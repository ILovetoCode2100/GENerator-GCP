name: SERVICE-CASE-001 - Create Case via Phone - Create a new case from phone interaction
description: 'Create a new case from phone interaction (Module: Customer Service, Suite: Case Management)'
project: D365 Test Automation
goal: Customer Service Tests
journey: Case Management
infrastructure:
  starting_url: https://[instance].crm.dynamics.com
steps:
- type: navigate
  target: https://[instance].crm.dynamics.com
- type: wait
  command: time
  value: 3
- type: interact
  command: click
  target: Customer Service Hub
- type: wait
  command: time
  value: 2
- type: interact
  command: click
  target: Cases
- type: interact
  command: click
  target: New Case
- type: interact
  command: write
  target: Case Title
  value: Unable to login to portal - $TIMESTAMP
- type: interact
  command: click
  target: Customer
- stepType: pressKey
  key: '"ENTER"'
- type: wait
  command: time
  value: 2
- type: interact
  command: click
  target: first result
- type: interact
  command: select
  target: Origin
  value: Phone
- type: interact
  command: select
  target: Case Type
  value: Problem
- type: interact
  command: select
  target: Priority
  value: High
- type: interact
  command: write
  target: Description
  value: Customer reports unable to access customer portal since this morning. Getting error 'Invalid credentials' despite using correct password.
- type: interact
  command: click
  target: Product
- stepType: pressKey
  key: '"ENTER"'
- type: interact
  command: click
  target: first result
- type: interact
  command: click
  target: Save
- type: wait
  command: time
  value: 3
- type: assert
  command: exists
  target: Case saved
- type: store
  command: text
  target: Case Number
  variable: caseNumber
